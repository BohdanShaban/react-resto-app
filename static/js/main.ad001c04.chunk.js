(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,n){e.exports=n.p+"static/media/shopping-cart-solid.701d6d1d.svg"},32:function(e,t,n){e.exports=n.p+"static/media/food-bg.698e5e80.jpg"},34:function(e,t,n){e.exports=n(50)},39:function(e,t,n){},40:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(14),o=n.n(c),l=n(10),i=n(16),u=n(19),s=n(17),m=n(20),d=(n(39),function(e){var t=e.item,n=e.onAddToCart,r=t.title,c=t.price,o=t.url,l=t.category;return a.a.createElement("li",{className:"menu__item"},a.a.createElement("div",{className:"menu__title"},r),a.a.createElement("img",{className:"menu__img",src:o,alt:r}),a.a.createElement("div",{className:"menu__category"},"Category: ",a.a.createElement("span",null,l)),a.a.createElement("div",{className:"menu__price"},"Price: ",a.a.createElement("span",null,c)),a.a.createElement("button",{onClick:function(){return n()},className:"menu__btn"},"Add to cart"))}),p=(n(40),n(8)),E=a.a.createContext(),f=function(){return function(e){return function(t){return a.a.createElement(E.Consumer,null,function(n){return a.a.createElement(e,Object.assign({},t,{RestoService:n}))})}}},_=function(){return a.a.createElement("div",{className:"spinner"}," Loading...")},h=function(){return a.a.createElement("div",{className:"error"},"Error")},b=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.menuRequested(),this.props.RestoService.getMenuItems().then(function(t){return e.props.menuLoaded(t)})}},{key:"componentDidCatch",value:function(e){this.props.menuError(),console.log(e)}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.error,r=e.addedToCart;if(t)return a.a.createElement(_,null);if(n)return a.a.createElement(h,null);var c=this.props.menuItems;return a.a.createElement("ul",{className:"menu__list"},c.map(function(e){return a.a.createElement(d,{key:e.id,item:e,onAddToCart:function(){return r(e.id)}})}))}}]),t}(r.Component),v={menuLoaded:function(e){return{type:"MENU_LOADED",payload:e}},menuRequested:function(){return{type:"MENU_REQUESTED"}},menuError:function(){return{type:"MENU_ERROR"}},addedToCart:function(e){return{type:"ITEM_ADDED_TO_CART",payload:e}}},g=f()(Object(p.b)(function(e){return{menuItems:e.menu,loading:e.loading,error:e.error}},v)(b)),O=function(){return a.a.createElement(g,null)},j=(n(45),{onItemFromCartDeleate:function(e){return{type:"ITEM_FROM_CART_DELETE",payload:e}}}),y=Object(p.b)(function(e){return{selectedItems:e.selectedItems}},j)(function(e){var t=e.selectedItems,n=e.onItemFromCartDeleate;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"cart__title"},"Your Order:"),a.a.createElement("div",{className:"cart__list"},t.map(function(e){var t=e.url,r=e.title,c=e.price,o=e.id;return a.a.createElement("div",{key:o,className:"cart__item"}," ",a.a.createElement("img",{src:t,className:"cart__item-img",alt:r}),a.a.createElement("div",{className:"cart__item-title"},r),a.a.createElement("div",{className:"cart__item-price"},c,"$"),a.a.createElement("div",{onClick:function(){return n(o)},className:"cart__close"},"\xd7"))})))}),N=function(){return a.a.createElement("div",{className:"cart"},a.a.createElement(y,null))},I=n(30),k=n.n(I),C=(n(46),n(11)),D=Object(p.b)(function(e){return{total:e.totalPrice}})(function(e){var t=e.total;return a.a.createElement("header",{className:"header"},a.a.createElement(C.b,{to:"/",className:"header__link"},"Menu"),a.a.createElement(C.b,{to:"/cart",className:"header__link"},a.a.createElement("img",{className:"header__cart",src:k.a,alt:"cart"}),"Total: ",t," $"))}),T=n(32),R=n.n(T),M=n(9),w=function(){return a.a.createElement("div",{style:{background:"url(".concat(R.a,") center center/cover no-repeat")},className:"app"},a.a.createElement(D,null),a.a.createElement(M.a,{exact:!0,path:"/",component:O}),a.a.createElement(M.a,{path:"/cart",component:N}))},A=(n(48),function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={error:!1},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){return!0===this.state.error?a.a.createElement(h,null):this.props.children}}]),t}(r.Component)),x=n(27),U=n.n(x),P=n(33),L=n(18),S=n(21),F=n(12),B={menu:[],loading:!0,error:!1,selectedItems:[],totalPrice:0},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU_REQUESTED":return Object(F.a)({},e,{menu:e.menu,loading:!0});case"MENU_LOADED":return Object(F.a)({},e,{menu:t.payload,loading:!1});case"MENU_ERROR":return Object(F.a)({},e,{error:!0});case"ITEM_ADDED_TO_CART":var n=t.payload,r=e.menu.find(function(e){return e.id===n}),a={title:r.title,price:r.price,url:r.url,category:r.category,id:r.id};return Object(F.a)({},e,{selectedItems:[].concat(Object(S.a)(e.selectedItems),[a]),totalPrice:e.totalPrice+r.price});case"ITEM_FROM_CART_DELETE":var c=t.payload,o=e.selectedItems.findIndex(function(e){return e.id===c}),l=e.selectedItems[o].price,i=e.selectedItems.slice(0,o),u=e.selectedItems.slice(o+1),s=[].concat(Object(S.a)(i),Object(S.a)(u));return Object(F.a)({},e,{selectedItems:s,totalPrice:e.totalPrice-l});default:return e}},J=Object(L.b)(q),Q=new function e(){var t=this;Object(l.a)(this,e),this.url="http://localhost:3000/menu",this.gitUrl="https://github.com/BohdanShaban/json-server_Fake_Back-End/blob/[main|master]/db.json",this.getMenuItems=Object(P.a)(U.a.mark(function e(){var n;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.gitUrl);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Server Error");case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}))};o.a.render(a.a.createElement(p.a,{store:J},a.a.createElement(A,null,a.a.createElement(E.Provider,{value:Q},a.a.createElement(C.a,{basename:"/react-resto-app"},"  ",a.a.createElement(w,null))))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.ad001c04.chunk.js.map